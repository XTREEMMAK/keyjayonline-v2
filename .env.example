# =============================================================================
# KeyJay Online v2 - Environment Configuration Example
# =============================================================================
#
# VITE AUTO-LOADING STRUCTURE
# ----------------------------
# This project uses Vite's environment file auto-loading. You don't need to
# copy files manually - just create .env.local with your secrets.
#
# File loading order:
#   npm run dev    → .env → .env.development → .env.local
#   docker compose → .env only
#
# File purposes:
#   .env             - Docker/Production defaults (committed)
#   .env.development - Local dev overrides (committed)
#   .env.local       - Your secrets (gitignored, create from this template)
#   .env.example     - This file, reference template
#
# =============================================================================
# QUICK START
# =============================================================================
#
# For local development (npm run dev):
#   1. Create .env.local from the template below
#   2. Fill in your actual secrets
#   3. Run: npm run dev
#   (No copying needed - Vite loads the right files automatically!)
#
# For Docker development (docker compose up):
#   1. Create .env.local with secrets
#   2. Run: docker compose up -d
#   (Docker reads .env directly, secrets from .env.local are only used by Vite)
#
# =============================================================================

# =============================================================================
# .env.local TEMPLATE - Copy everything below to .env.local
# =============================================================================

# Database Password
DB_PASSWORD=your_database_password

# Directus Authentication
DIRECTUS_TOKEN=your_directus_api_token

# Directus Security Keys (for Docker - generate with: openssl rand -hex 32)
DIRECTUS_KEY=your_directus_key_here
DIRECTUS_SECRET=your_directus_secret_here
DIRECTUS_ADMIN_PASSWORD=your_admin_password

# S3/Spaces Credentials (for Docker Directus storage)
# Get from: https://cloud.digitalocean.com/account/api/spaces
S3_ACCESS_KEY=your_spaces_access_key
S3_SECRET_KEY=your_spaces_secret_key

# Webhook Secret (optional - for signed webhook requests)
CONTACT_FORM_WEBHOOK_SECRET=your_webhook_secret

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================
#
# The committed files have these defaults:
#
# .env (Docker/Production):
#   DB_HOST=kjo2_postgres
#   DIRECTUS_URL=http://kjo2_directus:8055
#   NODE_ENV=production
#   USE_CDN_FOR_ASSETS=true
#
# .env.development (Local dev - auto-loaded by Vite):
#   DB_HOST=192.168.10.156
#   DIRECTUS_URL=http://192.168.10.24:8057
#   NODE_ENV=development
#   USE_CDN_FOR_ASSETS=false
#   BYPASS_CORS_IN_DEV=true
#
# To override any value locally, add it to .env.local
#
# =============================================================================

# =============================================================================
# ALL AVAILABLE VARIABLES (Reference)
# =============================================================================

# Database Configuration
# DB_HOST=kjo2_postgres          # Docker container name or external IP
# DB_PORT=5432
# DB_DATABASE=kjo_v2_db
# DB_USER=kjo_user
# DB_PASSWORD=                   # <-- Required in .env.local

# Directus Configuration
# DIRECTUS_URL=http://kjo2_directus:8055
# DIRECTUS_PORT=8055
# DIRECTUS_TOKEN=                # <-- Required in .env.local
# DIRECTUS_KEY=                  # <-- Required for Docker in .env.local
# DIRECTUS_SECRET=               # <-- Required for Docker in .env.local
# DIRECTUS_ADMIN_EMAIL=admin@keyjayonline.com
# DIRECTUS_ADMIN_PASSWORD=       # <-- Required for Docker in .env.local

# CDN and Assets
# CDN_BASE_URL=https://kjo.nyc3.cdn.digitaloceanspaces.com
# S3_BUCKET_URL=https://kjo.nyc3.digitaloceanspaces.com
# USE_CDN_FOR_ASSETS=true

# S3/Spaces Storage (for Docker Directus)
# S3_BUCKET=kjo
# S3_REGION=nyc3
# S3_ENDPOINT=nyc3.digitaloceanspaces.com
# S3_ACCESS_KEY=                 # <-- Required for Docker in .env.local
# S3_SECRET_KEY=                 # <-- Required for Docker in .env.local

# Application
# APP_VERSION=latest
# APP_PORT=3000
# NODE_ENV=production
# BYPASS_CORS_IN_DEV=false       # Set to true in development for CORS proxy

# Site Configuration
# PUBLIC_SITE_URL=https://keyjayonline.com
# PUBLIC_CONTACT_EMAIL=contact@keyjayonline.com
# PUBLIC_HELLO_EMAIL=hello@keyjayonline.com

# Webhooks
# CONTACT_FORM_WEBHOOK_URL=https://n8n.kjnet.us/webhook-test/kjo-contact-form
# CONTACT_FORM_WEBHOOK_SECRET=   # <-- Optional in .env.local

# Optional API Integrations
# IGDB_CLIENT_ID=placeholder
# IGDB_ACCESS_TOKEN=placeholder
# DISCORD_BOT_TOKEN=placeholder
# DISCORD_USER_ID=placeholder

# =============================================================================
# PRODUCTION DEPLOYMENT
# =============================================================================
#
# Production uses GitHub Secrets which auto-generate .env during deployment.
# See .github/workflows/deploy.yml for the complete list of required secrets.
#
# Required GitHub Secrets:
#   - DB_DATABASE, DB_USER, DB_PASSWORD
#   - DIRECTUS_KEY, DIRECTUS_SECRET, DIRECTUS_ADMIN_PASSWORD, DIRECTUS_TOKEN
#   - S3_ACCESS_KEY, S3_SECRET_KEY
#   - SSH_HOST, SSH_USERNAME, SSH_KEY, SSH_PORT
#   - And others as defined in deploy.yml
#
# =============================================================================
